{"version":3,"sources":["components/Message.js","components/Progress.js","components/FileUpload.js","App.js","index.js"],"names":["Message","_ref","msg","react_default","a","createElement","className","role","type","data-dismiss","aria-label","aria-hidden","Progress","percentage","style","width","concat","FileUpload","_useState","useState","_useState2","Object","slicedToArray","file","setFile","_useState3","_useState4","filename","setFilename","_useState5","_useState6","uploadedFile","setUploadedFile","_useState7","_useState8","message","setMessage","_useState9","_useState10","uploadPercentage","setUploadPercentage","onSubmit","asyncToGenerator","regenerator_default","mark","_callee","e","formData","res","_res$data","fileName","filePath","wrap","_context","prev","next","preventDefault","FormData","append","axios","post","headers","Content-Type","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","setTimeout","sent","data","t0","response","status","stop","_x","apply","this","arguments","react","components_Message","encType","id","multiple","onChange","target","files","name","htmlFor","components_Progress","value","src","alt","App","components_FileUpload","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.acbb50c1.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Message = ({ msg }) => {\r\n  return (\r\n    <div className='alert alert-info alert-dismissible fade show' role='alert'>\r\n      {msg}\r\n      <button\r\n        type='button'\r\n        className='close'\r\n        data-dismiss='alert'\r\n        aria-label='Close'\r\n      >\r\n        <span aria-hidden='true'>&times;</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nMessage.propTypes = {\r\n  msg: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Progress = ({ percentage }) => {\r\n  return (\r\n    <div className='progress'>\r\n      <div\r\n        className='progress-bar progress-bar-striped bg-success'\r\n        role='progressbar'\r\n        style={{ width: `${percentage}%` }}\r\n      >\r\n        {percentage}%\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nProgress.propTypes = {\r\n  percentage: PropTypes.number.isRequired\r\n};\r\n\r\nexport default Progress;\r\n","import React, { Fragment, useState } from \"react\";\r\nimport Message from \"./Message\";\r\nimport Progress from \"./Progress\";\r\nimport axios from \"axios\";\r\n\r\nconst FileUpload = () => {\r\n  const [file, setFile] = useState(\"\");\r\n  const [filename, setFilename] = useState(\"Choose File\");\r\n  const [uploadedFile, setUploadedFile] = useState({});\r\n  const [message, setMessage] = useState(\"\");\r\n  const [uploadPercentage, setUploadPercentage] = useState(0);\r\n\r\n  const onChange = e => {\r\n    setFile(e.target.files[0]);\r\n\r\n    setFilename(e.target.files[0].name);\r\n  };\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    try {\r\n      const res = await axios.post(\"/upload\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\"\r\n        },\r\n        onUploadProgress: progressEvent => {\r\n          setUploadPercentage(\r\n            parseInt(\r\n              Math.round((progressEvent.loaded * 100) / progressEvent.total)\r\n            )\r\n          );\r\n\r\n          // Clear percentage\r\n          setTimeout(() => setUploadPercentage(0), 10000);\r\n        }\r\n      });\r\n\r\n      const { fileName, filePath } = res.data;\r\n\r\n      setUploadedFile({ fileName, filePath });\r\n\r\n      setMessage(\"File Uploaded\");\r\n    } catch (err) {\r\n      if (err.response.status === 500) {\r\n        setMessage(\"There was a problem with the server\");\r\n      } else {\r\n        setMessage(err.response.data.msg);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {message ? <Message msg={message} /> : null}\r\n      <form onSubmit={onSubmit} encType=\"multipart/form-data\">\r\n        <div className=\"custom-file mb-4\">\r\n          <input\r\n            type=\"file\"\r\n            className=\"custom-file-input\"\r\n            id=\"customFile\"\r\n            multiple\r\n            onChange={onChange}\r\n          />\r\n          <label className=\"custom-file-label\" htmlFor=\"customFile\">\r\n            {filename}\r\n          </label>\r\n        </div>\r\n\r\n        <Progress percentage={uploadPercentage} />\r\n\r\n        <input\r\n          type=\"submit\"\r\n          value=\"Upload\"\r\n          className=\"btn btn-primary btn-block mt-4\"\r\n        />\r\n      </form>\r\n      {uploadedFile ? (\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-md-6 m-auto\">\r\n            <h3 className=\"text-center\">{uploadedFile.fileName}</h3>\r\n            <img style={{ width: \"100%\" }} src={uploadedFile.filePath} alt=\"\" />\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n","import React from 'react';\r\nimport FileUpload from './components/FileUpload';\r\nimport './App.css';\r\n\r\nconst App = () => (\r\n  <div className='container mt-4'>\r\n    <h4 className='display-4 text-center mb-4'>\r\n      <i className='fab fa-react' /> React File Upload\r\n    </h4>\r\n\r\n    <FileUpload />\r\n  </div>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}